<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>copter_project: RN4678.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">copter_project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A simple Quadcopter controler</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('RN4678_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">RN4678.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The GPIO setup and data transfer functions for the RN4678 module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="RN4678_8h_source.html">RN4678.h</a>&quot;</code><br />
</div>
<p><a href="RN4678_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a364634124ac8b113b6d244da6b053528"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RN4678_8c.html#a364634124ac8b113b6d244da6b053528">send_pac</a> (char *data, size_t size)</td></tr>
<tr class="memdesc:a364634124ac8b113b6d244da6b053528"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used to send Multiwii command to the quadcopter via bluetooth. The header and the command are packed in one packet of bytes. UART Flow Control is used and implemented in the Software for the communication with the RN4678.  <a href="RN4678_8c.html#a364634124ac8b113b6d244da6b053528">More...</a><br /></td></tr>
<tr class="separator:a364634124ac8b113b6d244da6b053528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf544fa3cacf45a0e8a3b69e2e22928e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RN4678_8c.html#abf544fa3cacf45a0e8a3b69e2e22928e">start_com</a> (char *cmd, uint8_t size, uint8_t retsize, char *input)</td></tr>
<tr class="memdesc:abf544fa3cacf45a0e8a3b69e2e22928e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used to send commands to the RN4678 for setting up the communication via bluetooth. UART Flow Control is used and implemented in the Software for the communication with the RN4678. In the initialization phase every command sent to the RN4678 is answered by the module. This answer is read and returned to the calling function.  <a href="RN4678_8c.html#abf544fa3cacf45a0e8a3b69e2e22928e">More...</a><br /></td></tr>
<tr class="separator:abf544fa3cacf45a0e8a3b69e2e22928e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326f2d173977da8d29b414ced31e69ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RN4678_8c.html#a326f2d173977da8d29b414ced31e69ec">RN4678Fxn</a> (UArg arg0, UArg arg1)</td></tr>
<tr class="memdesc:a326f2d173977da8d29b414ced31e69ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is RN4678 initialization task. This task is managed by the RTOS task manager using the multi-task priority scheduling. A connection is set up with the bluetooth device (RN4678 module) after setting up the UART. The command mode of the RN4678 is used to connect it to the quadcopter.  <a href="RN4678_8c.html#a326f2d173977da8d29b414ced31e69ec">More...</a><br /></td></tr>
<tr class="separator:a326f2d173977da8d29b414ced31e69ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68af12a505f8ea5f59a24f3b9f4eb8a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RN4678_8c.html#a68af12a505f8ea5f59a24f3b9f4eb8a4">init_bt</a> ()</td></tr>
<tr class="memdesc:a68af12a505f8ea5f59a24f3b9f4eb8a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup of the GPIO pins and Peripherable ports for the RN4678 module and initialize the RN4678.  <a href="RN4678_8c.html#a68af12a505f8ea5f59a24f3b9f4eb8a4">More...</a><br /></td></tr>
<tr class="separator:a68af12a505f8ea5f59a24f3b9f4eb8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9152c6bde9e4acc690ec14f8be3d6e11"><td class="memItemLeft" align="right" valign="top">UART_Handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RN4678_8c.html#a9152c6bde9e4acc690ec14f8be3d6e11">uart</a></td></tr>
<tr class="separator:a9152c6bde9e4acc690ec14f8be3d6e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da1dc33fa79f35b2140f5f662e24561"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RN4678_8c.html#a4da1dc33fa79f35b2140f5f662e24561">ready_for_data</a> = 0</td></tr>
<tr class="separator:a4da1dc33fa79f35b2140f5f662e24561"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Alexander Ã–sterreicher es19m008 </dd>
<dd>
Dennis Kwame Addo es19m006 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>06.12.2019</dd></dl>
<p>More information about the project can be found here </p><dl class="section see"><dt>See also</dt><dd><a href="https://embsys.technikum-wien.at/mio/mes/1/esw/project/project.html#_documentation">https://embsys.technikum-wien.at/mio/mes/1/esw/project/project.html#_documentation</a></dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

<p class="definition">Definition in file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a68af12a505f8ea5f59a24f3b9f4eb8a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68af12a505f8ea5f59a24f3b9f4eb8a4">&#9670;&nbsp;</a></span>init_bt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_bt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td>nothing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing but log and abort of failure to setup task for the BLUE Module </dd></dl>

<p class="definition">Definition at line <a class="el" href="RN4678_8c_source.html#l00161">161</a> of file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>

<p class="reference">References <a class="el" href="RN4678_8h_source.html#l00052">RN4678_CTS</a>, <a class="el" href="RN4678_8h_source.html#l00053">RN4678_CTS_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00050">RN4678_RTS</a>, <a class="el" href="RN4678_8h_source.html#l00051">RN4678_RTS_PORT</a>, <a class="el" href="RN4678_8c_source.html#l00089">RN4678Fxn()</a>, <a class="el" href="RN4678_8h_source.html#l00048">RST</a>, <a class="el" href="RN4678_8h_source.html#l00049">RST_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00062">STATUS1</a>, <a class="el" href="RN4678_8h_source.html#l00063">STATUS1_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00064">STATUS2</a>, <a class="el" href="RN4678_8h_source.html#l00065">STATUS2_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00046">SW_BTN</a>, <a class="el" href="RN4678_8h_source.html#l00047">SW_BTN_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00054">U6RX</a>, <a class="el" href="RN4678_8h_source.html#l00055">U6RX_PIN</a>, <a class="el" href="RN4678_8h_source.html#l00057">U6TX</a>, <a class="el" href="RN4678_8h_source.html#l00058">U6TX_PIN</a>, <a class="el" href="RN4678_8h_source.html#l00059">U6TX_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00060">WAKEUP</a>, and <a class="el" href="RN4678_8h_source.html#l00061">WAKEUP_PORT</a>.</p>

<p class="reference">Referenced by <a class="el" href="StartBIOS_8c_source.html#l00045">main()</a>.</p>

</div>
</div>
<a id="a326f2d173977da8d29b414ced31e69ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326f2d173977da8d29b414ced31e69ec">&#9670;&nbsp;</a></span>RN4678Fxn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RN4678Fxn </td>
          <td>(</td>
          <td class="paramtype">UArg&#160;</td>
          <td class="paramname"><em>arg0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UArg&#160;</td>
          <td class="paramname"><em>arg1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg0</td><td>xdc data for passing commands to RTOS task </td></tr>
    <tr><td class="paramname">arg1</td><td>xdc data for passing commands to RTOS task</td></tr>
  </table>
  </dd>
</dl>
<p>PNB: This is used in the CLI application</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="RN4678_8c_source.html#l00089">89</a> of file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>

<p class="reference">References <a class="el" href="Board_8h_source.html#l00087">Board_UART6</a>, <a class="el" href="RN4678_8c_source.html#l00023">ready_for_data</a>, <a class="el" href="RN4678_8c_source.html#l00059">start_com()</a>, <a class="el" href="RN4678_8h_source.html#l00062">STATUS1</a>, <a class="el" href="RN4678_8h_source.html#l00063">STATUS1_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00064">STATUS2</a>, <a class="el" href="RN4678_8h_source.html#l00065">STATUS2_PORT</a>, and <a class="el" href="RN4678_8c_source.html#l00021">uart</a>.</p>

<p class="reference">Referenced by <a class="el" href="RN4678_8c_source.html#l00161">init_bt()</a>.</p>

</div>
</div>
<a id="a364634124ac8b113b6d244da6b053528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364634124ac8b113b6d244da6b053528">&#9670;&nbsp;</a></span>send_pac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_pac </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Multiwii package in bytes to send. </td></tr>
    <tr><td class="paramname">size</td><td>Total size of data to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="RN4678_8c_source.html#l00035">35</a> of file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>

<p class="reference">References <a class="el" href="RN4678_8h_source.html#l00052">RN4678_CTS</a>, <a class="el" href="RN4678_8h_source.html#l00053">RN4678_CTS_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00050">RN4678_RTS</a>, <a class="el" href="RN4678_8h_source.html#l00051">RN4678_RTS_PORT</a>, and <a class="el" href="RN4678_8c_source.html#l00021">uart</a>.</p>

<p class="reference">Referenced by <a class="el" href="TI__Joystick_8c_source.html#l00321">set_flight_controls()</a>.</p>

</div>
</div>
<a id="abf544fa3cacf45a0e8a3b69e2e22928e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf544fa3cacf45a0e8a3b69e2e22928e">&#9670;&nbsp;</a></span>start_com()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_com </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>retsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>Command to send to the RN4678 </td></tr>
    <tr><td class="paramname">size</td><td>Total size of data to send. </td></tr>
    <tr><td class="paramname">retsize</td><td>Total size of the return bytes (input data). </td></tr>
    <tr><td class="paramname">input</td><td>Answer from the RN4678.</td></tr>
  </table>
  </dd>
</dl>
<p>PNB: This is used in the CLI application</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="RN4678_8c_source.html#l00059">59</a> of file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>

<p class="reference">References <a class="el" href="RN4678_8h_source.html#l00052">RN4678_CTS</a>, <a class="el" href="RN4678_8h_source.html#l00053">RN4678_CTS_PORT</a>, <a class="el" href="RN4678_8h_source.html#l00050">RN4678_RTS</a>, <a class="el" href="RN4678_8h_source.html#l00051">RN4678_RTS_PORT</a>, and <a class="el" href="RN4678_8c_source.html#l00021">uart</a>.</p>

<p class="reference">Referenced by <a class="el" href="RN4678_8c_source.html#l00089">RN4678Fxn()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4da1dc33fa79f35b2140f5f662e24561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da1dc33fa79f35b2140f5f662e24561">&#9670;&nbsp;</a></span>ready_for_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ready_for_data = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ready_for_data Global 8 bit variable for signalling that the copter is ready for receiving data </p>

<p class="definition">Definition at line <a class="el" href="RN4678_8c_source.html#l00023">23</a> of file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="TI__Joystick_8c_source.html#l00179">joystick_fnx()</a>, and <a class="el" href="RN4678_8c_source.html#l00089">RN4678Fxn()</a>.</p>

</div>
</div>
<a id="a9152c6bde9e4acc690ec14f8be3d6e11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9152c6bde9e4acc690ec14f8be3d6e11">&#9670;&nbsp;</a></span>uart</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UART_Handle uart</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>uart Global UART handler for UART reading/writing </p>

<p class="definition">Definition at line <a class="el" href="RN4678_8c_source.html#l00021">21</a> of file <a class="el" href="RN4678_8c_source.html">RN4678.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="RN4678_8c_source.html#l00089">RN4678Fxn()</a>, <a class="el" href="RN4678_8c_source.html#l00035">send_pac()</a>, and <a class="el" href="RN4678_8c_source.html#l00059">start_com()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="RN4678_8c.html">RN4678.c</a></li>
    <li class="footer">Generated on Mon Jan 13 2020 19:20:52 for copter_project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
